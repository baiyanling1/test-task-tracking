# 功能实现说明

## 实现的功能

### 1. 放开测试人员的编辑功能
- 修改了 `canEditTask` 方法，允许测试人员编辑分配给自己的任务或自己创建的任务
- 管理员和测试经理仍然可以编辑所有任务

### 2. 实际工时自动计算功能
- 当进度更新为100%时，根据实际结束时间和开始时间自动计算实际工时
- 跳过节假日的计算
- 在实际工时输入框下方添加提示

### 3. 新建任务工时提示
- 在工时(人/天)输入框下方添加提示文字
- 提示前缀已从"提示："改为"*"

### 4. 仪表盘优化
- 将超时任务移到左边
- 去掉最近任务模块
- 个人任务统计分为本月和上月两个tab页
- 使用柱状图显示任务状态分布
- 调整布局：超时任务占8列，个人任务统计占16列
- 个人任务统计标题改为标签页形式，只显示"本月任务"和"上月任务"
- 任务状态改为分开的4个柱状图显示，不再是堆叠状态

### 5. 菜单栏折叠功能
- 添加菜单栏折叠/展开功能
- 支持只显示图标模式
- 在顶部导航栏添加折叠按钮
- 折叠时侧边栏宽度变为64px，展开时为250px

### 6. 提示信息优化
- 将所有提示信息的前缀从"提示："改为"*"
- 影响实际工时和新建任务工时的提示信息

## 技术实现

### 前端修改
- `frontend/src/views/Tasks.vue` - 任务管理页面
- `frontend/src/views/Dashboard.vue` - 仪表盘页面
- `frontend/src/layouts/MainLayout.vue` - 主布局页面（菜单栏折叠功能）

### 后端修改
- `TestTaskController.java` - 添加新的API端点
- `TestTaskService.java` - 添加统计方法
- `TestTaskRepository.java` - 添加数据库查询方法

### 新增API
- `GET /api/tasks/statistics/user-tasks-by-month?month=current`
- `GET /api/tasks/statistics/user-tasks-by-month?month=last`
