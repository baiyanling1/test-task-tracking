# 本地前端开发配置说明

## 1. 环境要求

- Node.js (版本 16 或更高)
- npm 或 yarn
- 现代浏览器

## 2. 配置后端服务地址

### 方法一：修改 vite.config.js（推荐）

编辑 `frontend/vite.config.js` 文件，将 `target` 修改为您的后端服务地址：

```javascript
server: {
  port: 3000,
  proxy: {
    '/api': {
      target: 'http://your-backend-server:8080', // 替换为您的后端服务地址
      changeOrigin: true,
      secure: false,
      rewrite: (path) => path.replace(/^\/api/, '/api')
    }
  }
}
```

### 方法二：使用环境变量（推荐）

1. 复制环境变量示例文件：
```bash
copy env.example .env.development
```

2. 编辑 `.env.development` 文件，设置后端服务地址：
```env
VITE_API_BASE_URL=http://your-backend-server:8080
```

3. 重启开发服务器

**注意：** 使用 `quick-start.bat` 脚本会自动创建此文件。

## 3. 启动开发服务器

### 方法一：使用快速启动脚本（推荐）

双击运行 `quick-start.bat` 文件，该脚本会：
- 自动检查Node.js环境
- 自动安装依赖
- 自动创建环境配置文件
- 启动开发服务器

### 方法二：使用批处理文件（Windows）

双击运行 `start-dev.bat` 文件

### 方法二：使用命令行

```bash
# 进入前端目录
cd frontend

# 安装依赖（首次运行）
npm install

# 启动开发服务器
npm run dev
```

## 4. 测试后端连接

在启动前端服务之前，建议先测试后端连接：

### 方法一：使用测试脚本（推荐）

双击运行 `test-backend.bat` 文件，该脚本会：
- 自动检查Node.js环境
- 自动安装测试依赖
- 测试后端服务连接
- 显示详细的连接状态

### 方法二：使用命令行

```bash
cd frontend
node test-connection.js
```

## 5. 访问应用

启动成功后，在浏览器中访问：`http://localhost:3000`

## 6. 常见问题

### 5.1 跨域问题

如果遇到跨域问题，请确保：

1. 后端服务已正确配置CORS
2. Vite代理配置正确
3. 后端服务地址可访问

### 5.2 网络连接问题

如果无法连接到后端服务：

1. 检查后端服务是否正常运行
2. 检查网络连接
3. 检查防火墙设置
4. 验证后端服务地址和端口

### 5.3 依赖安装问题

如果依赖安装失败：

```bash
# 清除npm缓存
npm cache clean --force

# 删除node_modules和package-lock.json
rm -rf node_modules package-lock.json

# 重新安装依赖
npm install
```

## 7. 开发调试

### 6.1 查看网络请求

打开浏览器开发者工具，在 Network 标签页中查看API请求

### 6.2 查看控制台日志

在 Console 标签页中查看前端日志和错误信息

### 6.3 热重载

修改代码后，页面会自动刷新，无需手动重启服务器

## 8. 构建生产版本

```bash
npm run build
```

构建后的文件将生成在 `dist` 目录中。
